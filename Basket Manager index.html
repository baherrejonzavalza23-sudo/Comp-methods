<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Basket Manager 2K24 - Web Edition</title>
    <style>
        :root { --primary: #ff6b00; --dark: #1a1a1a; --light: #f4f4f4; --panel: #2a2a2a; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: var(--dark); color: var(--light); margin: 0; padding: 0; }
        
        /* Layout */
        .container { max-width: 800px; margin: 0 auto; padding: 20px; }
        header { background: var(--primary); padding: 15px; text-align: center; font-weight: bold; font-size: 1.5rem; text-transform: uppercase; letter-spacing: 2px; box-shadow: 0 4px 6px rgba(0,0,0,0.3); }
        
        /* Dashboard Grid */
        .dashboard { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px; }
        .panel { background: var(--panel); padding: 15px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.2); }
        .full-width { grid-column: span 2; }

        /* Typography & Elements */
        h2 { border-bottom: 2px solid var(--primary); padding-bottom: 5px; margin-top: 0; font-size: 1.2rem; }
        button { background: var(--primary); color: white; border: none; padding: 10px 20px; border-radius: 4px; cursor: pointer; font-size: 1rem; width: 100%; transition: filter 0.2s; }
        button:hover { filter: brightness(1.1); }
        button:disabled { background: #555; cursor: not-allowed; }
        
        /* Lists & Tables */
        ul { list-style: none; padding: 0; }
        li { padding: 8px; border-bottom: 1px solid #444; display: flex; justify-content: space-between; }
        .stat-label { color: #888; font-size: 0.9rem; }
        .stat-value { font-weight: bold; }

        /* Game Log */
        #game-log { height: 200px; overflow-y: auto; background: #000; padding: 10px; font-family: monospace; font-size: 0.9rem; border: 1px solid #444; }
        .log-score { color: #0f0; }
        .log-miss { color: #f00; }
        
        /* Standings Table */
        table { width: 100%; border-collapse: collapse; }
        th, td { text-align: left; padding: 8px; border-bottom: 1px solid #444; }
        th { color: var(--primary); }
    </style>
</head>
<body>

<header>Basket Manager Web 2K24</header>

<div class="container">
    <div class="panel full-width">
        <div style="display: flex; justify-content: space-between; align-items: center;">
            <div>
                <span class="stat-label">Your Team:</span> <br>
                <strong style="font-size: 1.2rem;">New York Empire</strong>
            </div>
            <div>
                <span class="stat-label">Season Record:</span> <br>
                <span id="record-display">0 - 0</span>
            </div>
            <button id="sim-btn" onclick="simGame()">Simulate Next Game</button>
        </div>
    </div>

    <div class="dashboard">
        <div class="panel">
            <h2>Active Roster</h2>
            <ul id="roster-list">
                </ul>
        </div>

        <div class="panel">
            <h2>League Standings</h2>
            <table id="standings-table">
                <thead><tr><th>Team</th><th>W</th><th>L</th></tr></thead>
                <tbody>
                    </tbody>
            </table>
        </div>

        <div class="panel full-width">
            <h2>Match Commentary</h2>
            <div id="game-log">Click "Simulate Next Game" to start...</div>
            <div id="box-score" style="margin-top:10px; font-weight:bold; text-align:center; font-size:1.2rem;"></div>
        </div>
    </div>
</div>

<script>
    // --- Data Generators (Replicating data structures found in APK) ---
    const FIRST_NAMES = ["James", "LeBron", "Michael", "Stephen", "Kevin", "Chris", "Luka", "Nikola", "Kyrie", "Jayson"];
    const LAST_NAMES = ["Jordan", "Smith", "Johnson", "Curry", "Doncic", "Jokic", "Tatum", "Paul", "Davis", "Williams"];
    const POSITIONS = ["PG", "SG", "SF", "PF", "C"];
    const TEAMS = [
        "New York Empire", "Los Angeles Gold", "Boston Shamrocks", "Chicago Winds", 
        "Miami Heatwaves", "Dallas Cowboys", "Golden State Bridge", "Philadelphia Bells"
    ];

    // --- Game State ---
    let season = {
        teams: [],
        schedule: [],
        week: 0
    };

    let userTeamIndex = 0;

    // --- Classes ---
    class Player {
        constructor(position) {
            this.name = FIRST_NAMES[Math.floor(Math.random() * FIRST_NAMES.length)] + " " + LAST_NAMES[Math.floor(Math.random() * LAST_NAMES.length)];
            this.position = position;
            // Stats (0-100)
            this.shooting = Math.floor(Math.random() * 40) + 50; 
            this.defense = Math.floor(Math.random() * 40) + 40;
            this.overall = Math.floor((this.shooting + this.defense) / 2);
        }
    }

    class Team {
        constructor(name) {
            this.name = name;
            this.wins = 0;
            this.losses = 0;
            this.roster = [];
            this.generateRoster();
        }

        generateRoster() {
            POSITIONS.forEach(pos => {
                this.roster.push(new Player(pos)); // Starter
                if(Math.random() > 0.5) this.roster.push(new Player(pos)); // Bench
            });
            // Ensure at least 8 players
            while(this.roster.length < 8) {
                this.roster.push(new Player(POSITIONS[Math.floor(Math.random()*5)]));
            }
        }

        getTeamStrength() {
            let total = this.roster.reduce((sum, p) => sum + p.overall, 0);
            return total / this.roster.length;
        }
    }

    // --- Initialization ---
    function initGame() {
        // Create Teams
        TEAMS.forEach(name => season.teams.push(new Team(name)));
        
        // Render User Roster
        const rosterList = document.getElementById('roster-list');
        rosterList.innerHTML = '';
        season.teams[userTeamIndex].roster.forEach(player => {
            let li = document.createElement('li');
            li.innerHTML = `<span><span style="color:var(--primary); font-weight:bold;">${player.position}</span> ${player.name}</span> <span class="stat-value">${player.overall} OVR</span>`;
            rosterList.appendChild(li);
        });

        updateStandings();
    }

    // --- Simulation Logic ---
    function simGame() {
        const btn = document.getElementById('sim-btn');
        const log = document.getElementById('game-log');
        const box = document.getElementById('box-score');
        
        btn.disabled = true;
        btn.textContent = "Simulating...";
        log.innerHTML = "";
        
        let userTeam = season.teams[userTeamIndex];
        // Pick random opponent
        let opponentIndex = (userTeamIndex + 1 + Math.floor(Math.random() * (season.teams.length - 1))) % season.teams.length;
        let opponent = season.teams[opponentIndex];

        // Simulate Match
        let userScore = 0;
        let oppScore = 0;
        let plays = 10; // Simple 10-possession summary

        let i = 0;
        let interval = setInterval(() => {
            if(i >= plays) {
                // End Game
                clearInterval(interval);
                finishGame(userTeam, opponent, userScore, oppScore);
                return;
            }

            // Random Play Generation
            let isUserOffense = Math.random() > 0.5;
            let currentTeam = isUserOffense ? userTeam : opponent;
            let otherTeam = isUserOffense ? opponent : userTeam;
            
            // Pick a random player involved
            let player = currentTeam.roster[Math.floor(Math.random() * currentTeam.roster.length)];
            
            // Determine outcome based on stats
            let shotChance = player.shooting - (otherTeam.getTeamStrength() * 0.5) + Math.random() * 30;
            
            let playText = "";
            let cssClass = "";

            if (shotChance > 50) {
                let points = Math.random() > 0.7 ? 3 : 2;
                if (isUserOffense) userScore += points; else oppScore += points;
                playText = `${player.name} drains a ${points}-pointer!`;
                cssClass = "log-score";
            } else {
                playText = `${player.name} misses the shot. Rebound by ${otherTeam.name}.`;
                cssClass = "log-miss";
            }

            // Update Log
            log.innerHTML += `<div class="${cssClass}">${currentTeam.name}: ${playText}</div>`;
            log.scrollTop = log.scrollHeight;
            box.innerText = `${userTeam.name}: ${userScore} - ${opponent.name}: ${oppScore}`;

            i++;
        }, 500);
    }

    function finishGame(userTeam, oppTeam, uScore, oScore) {
        const btn = document.getElementById('sim-btn');
        btn.disabled = false;
        btn.textContent = "Simulate Next Game";

        if (uScore > oScore) {
            userTeam.wins++;
            oppTeam.losses++;
        } else {
            userTeam.losses++;
            oppTeam.wins++;
        }

        // Sim other games in background
        season.teams.forEach((t, idx) => {
            if (idx !== userTeamIndex && idx !== season.teams.indexOf(oppTeam)) {
                if (Math.random() > 0.5) t.wins++; else t.losses++;
            }
        });

        // Update UI
        document.getElementById('record-display').innerText = `${userTeam.wins} - ${userTeam.losses}`;
        updateStandings();
    }

    function updateStandings() {
        const tbody = document.querySelector('#standings-table tbody');
        tbody.innerHTML = '';
        
        // Sort by wins
        let sortedTeams = [...season.teams].sort((a, b) => b.wins - a.wins);

        sortedTeams.forEach(team => {
            let row = `<tr>
                <td style="${team.name === season.teams[userTeamIndex].name ? 'color:var(--primary); font-weight:bold;' : ''}">${team.name}</td>
                <td>${team.wins}</td>
                <td>${team.losses}</td>
            </tr>`;
            tbody.innerHTML += row;
        });
    }

    // Start
    initGame();

</script>
</body>
</html>
